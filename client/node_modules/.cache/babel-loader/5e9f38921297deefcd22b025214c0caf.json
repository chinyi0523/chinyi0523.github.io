{"ast":null,"code":"import _classCallCheck from\"/Users/chinyi0523/Desktop/EESA NTUEE+/NTUEE_Plus_website/client/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/chinyi0523/Desktop/EESA NTUEE+/NTUEE_Plus_website/client/node_modules/@babel/runtime/helpers/esm/createClass\";import _possibleConstructorReturn from\"/Users/chinyi0523/Desktop/EESA NTUEE+/NTUEE_Plus_website/client/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";import _getPrototypeOf from\"/Users/chinyi0523/Desktop/EESA NTUEE+/NTUEE_Plus_website/client/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";import _assertThisInitialized from\"/Users/chinyi0523/Desktop/EESA NTUEE+/NTUEE_Plus_website/client/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";import _inherits from\"/Users/chinyi0523/Desktop/EESA NTUEE+/NTUEE_Plus_website/client/node_modules/@babel/runtime/helpers/esm/inherits\";import React,{Component}from'react';import\"./LoginChange.css\";import axios from\"axios\";var LoginChange=/*#__PURE__*/function(_Component){_inherits(LoginChange,_Component);function LoginChange(props){var _this;_classCallCheck(this,LoginChange);_this=_possibleConstructorReturn(this,_getPrototypeOf(LoginChange).call(this,props));_this.handleInputChange=function(event){var target=event.target;var value=target.value;var name=target.id;if(name===\"safe_Question\"){_this.setState({question:value});}};_this.btn_click=function(e){e.preventDefault();_this.showPersonal();};_this.handleSubmit=function(event){event.preventDefault();console.log(_this.state);if(_this.state===\"\"){alert(\"該值不得為空\");}else{var r=window.confirm(\"確認更改安全問題?\");if(r){axios.post(\"/api/chLogin\",{question:_this.state.question}).then(function(res){console.log(res.data);if(res.data){if(res.data.message===true){alert('更改完成');}else{alert('更改失敗');}}});}}};_this.state={username:'',account:'',question:'',img:''};_this.handleSubmit=_this.handleSubmit.bind(_assertThisInitialized(_this));return _this;}_createClass(LoginChange,[{key:\"showPersonal\",value:function showPersonal(){var _this2=this;axios.post(\"/api/showPersonal\",{}).then(function(res){console.log(res.data);if(res.data){if(res.data.message===true){_this2.setState({username:res.data.data.username,account:res.data.data.account,question:res.data.data.SQ,img:res.data.data.img});}else{alert('錯誤：\\n'+res.data.description);}}});}},{key:\"componentDidMount\",value:function componentDidMount(){this.showPersonal();}},{key:\"render\",value:function render(){return React.createElement(\"div\",{description:\"personalInfo\",id:\"LC_container\"},React.createElement(\"div\",{id:\"LC_hr\"},\"Security Question Reset\"),React.createElement(\"form\",null,React.createElement(\"button\",{id:\"LC_refresh_btn\"/*onClick={\"this.btn_click\"}*/},\"refresh\"),React.createElement(\"img\",{src:this.state.img}),React.createElement(\"table\",{id:\"LC_table\",cellSpacing:\"10\"},React.createElement(\"tr\",null,React.createElement(\"td\",null,\"\\u5B78\\u865F\"),React.createElement(\"td\",{colSpan:\"2\"},\"this.state.account\")),React.createElement(\"tr\",null,React.createElement(\"td\",null,\"\\u59D3\\u540D\"),React.createElement(\"td\",{colSpan:\"2\"},\"this.state.username\")),React.createElement(\"tr\",null,React.createElement(\"td\",null,\"\\u5B89\\u5168\\u554F\\u984C\"),React.createElement(\"td\",{colSpan:\"2\"},React.createElement(\"input\",{id:\"LC_safe_Question\",placeholder:\"\\u6539\\u8B8A\\u5B89\\u5168\\u554F\\u984C\",autoFocus:true,value:this.state.question,onChange:this.handleInputChange})))),React.createElement(\"input\",{id:\"LC_submit_btn\",type:\"submit\",value:\"Change\"})));}}]);return LoginChange;}(Component);export default LoginChange;","map":{"version":3,"sources":["/Users/chinyi0523/Desktop/EESA NTUEE+/NTUEE_Plus_website/client/src/in/LoginChange.js"],"names":["React","Component","axios","LoginChange","props","handleInputChange","event","target","value","name","id","setState","question","btn_click","e","preventDefault","showPersonal","handleSubmit","console","log","state","alert","r","window","confirm","post","then","res","data","message","username","account","img","bind","SQ","description"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport \"./LoginChange.css\"\nimport axios from \"axios\";\n\nclass LoginChange extends Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tthis.state = {\n\t\t\tusername:'',\n\t\t\taccount:'',\n\t\t\tquestion:'',\n\t\t\timg:''\n\t\t};\n\t\tthis.handleSubmit = this.handleSubmit.bind(this)\n\t}\n\t\n\tshowPersonal(){\n\t\taxios.post(\"/api/showPersonal\", \n\t\t\t{}\n\t\t).then(res => {\n\t\t\tconsole.log(res.data);\n\t\t\t\tif(res.data){\n\t\t\t\t\tif(res.data.message===true){\n\t\t\t\t\t\tthis.setState({\n\t\t\t\t\t\t\tusername:res.data.data.username,\n\t\t\t\t\t\t\taccount:res.data.data.account,\n\t\t\t\t\t\t\tquestion:res.data.data.SQ,\n\t\t\t\t\t\t\timg:res.data.data.img\n\t\t\t\t\t\t});\n\t\t\t\t\t}else{\n\t\t\t\t\t\talert('錯誤：\\n'+res.data.description);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t})\n\t}\n\t\n\thandleInputChange=event=>{\n\t\tconst target = event.target;\n\t\tconst value = target.value;\n\t\tconst name = target.id;\n\t\t\n\t\tif(name===\"safe_Question\"){\n\t\t\tthis.setState({question: value});\n\t\t}\n\t}\n\t\n\tcomponentDidMount(){\n\t\tthis.showPersonal();\n\t}\n\t\n\tbtn_click=e=>{\n\t\te.preventDefault();\n\t\tthis.showPersonal();\n\t}\n\t\n\thandleSubmit=event=>{\n\t\tevent.preventDefault();\n\t\tconsole.log(this.state);\n\t\tif(this.state===\"\"){\n\t\t\talert(\"該值不得為空\");\n\t\t}else{\n\t\t\tvar r=window.confirm(\"確認更改安全問題?\");\n\t\t\tif(r){\n\t\t\t\taxios.post(\"/api/chLogin\", \n\t\t\t\t\t{question:this.state.question}\n\t\t\t\t).then(res => {\n\t\t\t\t\tconsole.log(res.data);\n\t\t\t\t\t\tif(res.data){\n\t\t\t\t\t\t\tif(res.data.message===true){\n\t\t\t\t\t\t\t\talert('更改完成');\n\t\t\t\t\t\t\t}else{\n\t\t\t\t\t\t\t\talert('更改失敗');\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t})\n\t\t\t}\n\t\t}\n\t}\n\t\n\trender(){\n\t\treturn (\n\t\t\t<div description=\"personalInfo\" id=\"LC_container\">\n\t\t\t  <div id=\"LC_hr\">Security Question Reset</div>\n\t\t\t  <form >{/*onSubmit={this.handleSubmit}}*/}\n\t\t\t  <button id=\"LC_refresh_btn\" /*onClick={\"this.btn_click\"}*/>refresh</button>\n\t\t\t  <img src={this.state.img} />\n\t\t\t  <table id = \"LC_table\" cellSpacing=\"10\">\n\t\t\t\t<tr>\n\t\t\t\t\t<td>學號</td>\n\t\t\t\t\t<td colSpan=\"2\">{\"this.state.account\"}</td>\n\t\t\t\t</tr>\n\t\t\t\t<tr>\n\t\t\t\t\t<td>姓名</td>\n\t\t\t\t\t<td colSpan=\"2\">{\"this.state.username\"}</td>\n\t\t\t\t</tr>\n\t\t\t\t<tr>\n\t\t\t\t\t<td>安全問題</td>\n\t\t\t\t\t<td colSpan=\"2\">\n\t\t\t\t\t\t<input id=\"LC_safe_Question\" placeholder=\"改變安全問題\" autoFocus\n\t\t\t\t\t\t\tvalue={this.state.question} onChange={this.handleInputChange}>\n\t\t\t\t\t\t</input>\n\t\t\t\t\t\n\t\t\t\t\t</td>\n\t\t\t\t</tr>\n\t\t\t\t\n\t\t\t  </table>\n\t\t\t  <input id=\"LC_submit_btn\" type=\"submit\" value=\"Change\" />\n\t\t\t  </form>\n\t\t\t</div>\n\t\t);\n\t}\n}\n \nexport default LoginChange;"]},"metadata":{},"sourceType":"module"}