{"ast":null,"code":"import _defineProperty from\"/Users/chinyi0523/Desktop/EESA NTUEE+/NTUEE_Plus_website/client/node_modules/@babel/runtime/helpers/esm/defineProperty\";import _classCallCheck from\"/Users/chinyi0523/Desktop/EESA NTUEE+/NTUEE_Plus_website/client/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/chinyi0523/Desktop/EESA NTUEE+/NTUEE_Plus_website/client/node_modules/@babel/runtime/helpers/esm/createClass\";import _possibleConstructorReturn from\"/Users/chinyi0523/Desktop/EESA NTUEE+/NTUEE_Plus_website/client/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";import _getPrototypeOf from\"/Users/chinyi0523/Desktop/EESA NTUEE+/NTUEE_Plus_website/client/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";import _assertThisInitialized from\"/Users/chinyi0523/Desktop/EESA NTUEE+/NTUEE_Plus_website/client/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";import _inherits from\"/Users/chinyi0523/Desktop/EESA NTUEE+/NTUEE_Plus_website/client/node_modules/@babel/runtime/helpers/esm/inherits\";import React,{Component}from'react';//import './Register.css';\n//import eesa_icon from '../images/eesa-icon.png';\nimport axios from'axios';import{NavBar}from'../../component/AppBar';//import Register_account from './';\nvar Register_facebook=/*#__PURE__*/function(_Component){_inherits(Register_facebook,_Component);function Register_facebook(props){var _this;_classCallCheck(this,Register_facebook);_this=_possibleConstructorReturn(this,_getPrototypeOf(Register_facebook).call(this,props));_this.state={Register_realname:'',Register_student_id:'',Register_password:'',Register_confirm_password:'',imagePreviewUrl:'',file:null};_this.handleInputChange=_this.handleInputChange.bind(_assertThisInitialized(_this));_this.handleSubmit=_this.handleSubmit.bind(_assertThisInitialized(_this));_this.handleImageChange=_this.handleImageChange.bind(_assertThisInitialized(_this));return _this;}_createClass(Register_facebook,[{key:\"handleInputChange\",value:function handleInputChange(event){var target=event.target;var value=target.value;var name=target.id;this.setState(_defineProperty({},name,value));}},{key:\"handleSubmit\",value:function handleSubmit(event){event.preventDefault();if(false){//this.state.Register_password!==this.state.Register_confirm_password){\nreturn alert(\"密碼不一致\");}else{var r=window.confirm(\"確認註冊?\");if(r){var data=new FormData();data.append('file',this.state.file);data.append('username',this.state.Register_realname);data.append('account',this.state.Register_student_id);data.append('password',this.state.Register_password);data.append('ConfirmPassword',this.state.Register_confirm_password);console.log('data',data);var config={headers:{'content-type':'multipart/form-data'}};axios.post(\"/api/register\",data/*{username:this.state.Register_realname,\n\t\t\t\t\taccount:this.state.Register_student_id,\n\t\t\t\t\tpassword:this.state.Register_password,\n\t\t\t\t\tConfirmPassword:this.state.Register_confirm_password,\n\t\t\t\t\tfile:this.state.file}*/,config).then(function(res){console.log(res.data);if(res){if(res.data.message===true){alert('註冊成功');window.location=\"/Login\";}else{alert('錯誤：\\n'+res.data.description);}}}).catch(function(err){console.log(\"err=\",err);//[{value:\"使用者填的值\",msg:\"錯的原因\",param:\"用他拿到是誰錯\",location:\"body\"}]\n});}}}},{key:\"handleImageChange\",value:function handleImageChange(e){var _this2=this;//e.preventDefault();\nvar reader=new FileReader();var file=e.target.files[0];console.log('t',e.target);this.setState({file:file});reader.onloadend=function(){console.log('onloadend');_this2.setState({imagePreviewUrl:reader.result});};reader.readAsDataURL(file);console.log(this.state.file);}},{key:\"render\",value:function render(){var imagePreviewUrl=this.state.imagePreviewUrl;var $imagePreview=null;if(imagePreviewUrl){$imagePreview=React.createElement(\"img\",{src:imagePreviewUrl,id:\"Register_id_photo\"});}else{$imagePreview=React.createElement(\"div\",{className:\"previewText\"},\"Please select an Image for Preview\");}return React.createElement(\"div\",null,React.createElement(\"p\",{style:{fontSize:\"64px\"}},\"TTest!!\"));}}]);return Register_facebook;}(Component);export default Register_facebook;","map":{"version":3,"sources":["/Users/chinyi0523/Desktop/EESA NTUEE+/NTUEE_Plus_website/client/src/out/register_in/Register_facebook.js"],"names":["React","Component","axios","NavBar","Register_facebook","props","state","Register_realname","Register_student_id","Register_password","Register_confirm_password","imagePreviewUrl","file","handleInputChange","bind","handleSubmit","handleImageChange","event","target","value","name","id","setState","preventDefault","alert","r","window","confirm","data","FormData","append","console","log","config","headers","post","then","res","message","location","description","catch","err","e","reader","FileReader","files","onloadend","result","readAsDataURL","$imagePreview","fontSize"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\n//import './Register.css';\n//import eesa_icon from '../images/eesa-icon.png';\nimport axios from 'axios';\nimport { NavBar } from '../../component/AppBar';\n//import Register_account from './';\nclass Register_facebook extends Component{\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tthis.state = {\n\t\t  Register_realname: '',\n\t\t  Register_student_id: '',\n\t\t  Register_password: '',\n\t\t  Register_confirm_password: '',\n\t\t  imagePreviewUrl: '',\n\t\t  file: null\n\t\t};\n\n\t\tthis.handleInputChange = this.handleInputChange.bind(this);\n\t\tthis.handleSubmit = this.handleSubmit.bind(this);\n\t\tthis.handleImageChange = this.handleImageChange.bind(this);\n\t}\n\n\thandleInputChange(event) {\n\t\tconst target = event.target;\n\t\tconst value = target.value;\n\t\tconst name = target.id;\n\t\t\n\t\t\n\t\tthis.setState({\n\t\t  [name]: value\n\t\t});\n\t}\n\t\n\thandleSubmit(event) {\n\t\tevent.preventDefault();\n\t\tif(false){//this.state.Register_password!==this.state.Register_confirm_password){\n\t\t\treturn alert(\"密碼不一致\");\n\t\t}else{\n\t\t\tvar r=window.confirm(\"確認註冊?\");\n\t\t\tif(r){\n\t\t\t\tvar data = new FormData();\n\t\t\t\tdata.append('file',this.state.file)\n\t\t\t\tdata.append('username',this.state.Register_realname)\n\t\t\t\tdata.append('account',this.state.Register_student_id)\n\t\t\t\tdata.append('password',this.state.Register_password)\n\t\t\t\tdata.append('ConfirmPassword',this.state.Register_confirm_password)\n\t\t\t\tconsole.log('data',data)\n\t\t\t\tconst config = {\n\t\t\t\t\theaders: {\n\t\t\t\t\t\t'content-type': 'multipart/form-data'\n\t\t\t\t\t}\n\t\t\t\t};\n\t\t\t\taxios.post(\"/api/register\",\n\t\t\t\t\tdata\n\t\t\t\t\t/*{username:this.state.Register_realname,\n\t\t\t\t\taccount:this.state.Register_student_id,\n\t\t\t\t\tpassword:this.state.Register_password,\n\t\t\t\t\tConfirmPassword:this.state.Register_confirm_password,\n\t\t\t\t\tfile:this.state.file}*/,\n\t\t\t\t\tconfig\n\t\t\t\t).then(res => {\n\t\t\t\t\tconsole.log(res.data);\n\t\t\t\t\t\tif(res){\n\t\t\t\t\t\t\tif(res.data.message===true){\n\t\t\t\t\t\t\t\talert('註冊成功');\n\t\t\t\t\t\t\t\twindow.location = \"/Login\";\n\t\t\t\t\t\t\t}else{\n\t\t\t\t\t\t\t\talert('錯誤：\\n'+res.data.description);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t}).catch(err=>{\n\t\t\t\t\tconsole.log(\"err=\",err);\n\t\t\t\t\t//[{value:\"使用者填的值\",msg:\"錯的原因\",param:\"用他拿到是誰錯\",location:\"body\"}]\n\t\t\t\t})\n\t\t\t}\n\t\t}\n\t}\n\t\n\thandleImageChange(e) {\n\t\t//e.preventDefault();\n\n\t\tlet reader = new FileReader();\n\t\tlet file = e.target.files[0];\n\t\tconsole.log('t',e.target)\n\t\tthis.setState({\n\t\t\tfile:file\n\t\t})\n\t\treader.onloadend = () => {\n\t\t\tconsole.log('onloadend');\n\t\t  this.setState({\n\t\t\timagePreviewUrl: reader.result\n\t\t  });\n\t\t}\n\n\t\treader.readAsDataURL(file)\n\t\tconsole.log(this.state.file)\n\t}\n\t\n    render(){\n\t\tlet {imagePreviewUrl} = this.state;\n\t\tlet $imagePreview = null;\n\t\tif (imagePreviewUrl) {\n\t\t  $imagePreview = (<img src={imagePreviewUrl} id=\"Register_id_photo\"/>);\n\t\t} else {\n\t\t  $imagePreview = (<div className=\"previewText\">Please select an Image for Preview</div>);\n\t\t}\n        return(\n\t\t\t<div>\n\t\t\t\t<p style={{fontSize:\"64px\"}}>TTest!!</p>\n            {/*<div id=\"Register_container\">\n\t\t\t\t\n                <div id=\"Register_register_table\">\n                    <h1 id=\"Register_table_title\">Just A Few Steps to Join EE+!</h1>\n\t\t\t\t\t<form onSubmit={this.handleSubmit}>\n\t\t\t\t\t\t<div id=\"Register_table\">\n\t\t\t\t\t\t\t<div id=\"Register_input1\">\n\t\t\t\t\t\t\t\t<p id=\"Register_realname_label\">Your Name</p>\n\t\t\t\t\t\t\t\t<input id=\"Register_realname\" placeholder=\"Your Chinese Name\"\n\t\t\t\t\t\t\t\t\tvalue={this.state.value} onChange={this.handleInputChange}\n\t\t\t\t\t\t\t\t></input>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div id=\"Register_input2\">\n\t\t\t\t\t\t\t\t<p id=\"Register_ID_label\">Student ID</p>\n\t\t\t\t\t\t\t\t<input id=\"Register_student_id\" placeholder=\"Student ID\"\n\t\t\t\t\t\t\t\t\tvalue={this.state.value} onChange={this.handleInputChange}\n\t\t\t\t\t\t\t\t></input>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div id=\"Register_input3\">\n\t\t\t\t\t\t\t\t<p id=\"Register_password_label\">Password</p>\n\t\t\t\t\t\t\t\t<input id=\"Register_password\" placeholder=\"Set Your Password\" type=\"password\"\n\t\t\t\t\t\t\t\t\tvalue={this.state.value} onChange={this.handleInputChange}\n\t\t\t\t\t\t\t\t></input>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div id=\"Register_input4\">\n\t\t\t\t\t\t\t\t<p id=\"Register_confirm_password_label\">Confirm Password</p>\n\t\t\t\t\t\t\t\t<input id=\"Register_confirm_password\" placeholder=\"Confirm Your Password\" type=\"password\"\n\t\t\t\t\t\t\t\t\tvalue={this.state.value} onChange={this.handleInputChange}\n\t\t\t\t\t\t\t\t></input>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div id=\"Register_input5\">\n\t\t\t\t\t\t\t\t<p id=\"Register_question_label\">Question</p>\n\t\t\t\t\t\t\t\t<input id=\"Register_question\" placeholder=\"ex: the name of your first pet, etc...\" type=\"text\"\n\t\t\t\t\t\t\t\t onChange = {this.handleInputChange}></input>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div id=\"Register_input6\">\n\t\t\t\t\t\t\t\t<p id=\"Register_image_label\">Upload Image</p>\n\t\t\t\t\t\t\t\t<label>\n\t\t\t\t\t\t\t\t<input className=\"fileInput\" id=\"Register_fileinput\" \n\t\t\t\t\t\t\t\t\t\ttype=\"file\" \n\t\t\t\t\t\t\t\t\t\tonChange={this.handleImageChange} \n\t\t\t\t\t\t\t\t\t\tname=\"file\"/>\n\t\t\t\t\t\t\t\t<span id=\"Register_addImage_icon\">➕ <p style={{display:\"inline\",fontSize:\"18px\"}}>Add Your ID Photo</p></span>\n\t\t\t\t\t\t\t\t</label>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\n\t\t\t\t\t\t<button id=\"Register_register_button\" onclick={this.handleSubmit}>\n\t\t\t\t\t\t\t<p id=\"Register_register_text\">Register</p>\n\t\t\t\t\t\t</button>\n\t\t\t\t\t</form>\n                </div>\n\t\t\t\t\n                <div id=\"Register_FAQ\">\n                    <div id=\"Register_FAQ_title\">FAQ</div>\n                    <div id=\"Register_splitline\"></div>\n                    <div id=\"Register_FAQ_content\">\n                        <ul id=\"Register_FAQ_list\">\n                            <li>ID photo should contain your <em>full name</em> and <em>intact, clear face</em>.</li>\n                            <li>The size of photo is at most 1MB.</li>\n                            <li>...</li>\n                        </ul>\n                    </div>\n\t\t\t\t\t<div id=\"Register_FAQ_title\">Image Preview</div>\n\t\t\t\t\t<div id=\"Register_splitline\"></div>\n\t\t\t\t<div className=\"imgPreview\" id=\"Register_imgPreview\">\n\t\t\t\t  \t\t\t{$imagePreview}\n\t\t\t\t\t</div>\n                </div>\n\t\t</div>*/}\n\t\t\t</div>\n        )\n    }\n}\nexport default Register_facebook"]},"metadata":{},"sourceType":"module"}