{"ast":null,"code":"import _classCallCheck from\"/Users/chinyi0523/Desktop/EESA NTUEE+/NTUEE_Plus_website/client/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/chinyi0523/Desktop/EESA NTUEE+/NTUEE_Plus_website/client/node_modules/@babel/runtime/helpers/esm/createClass\";import _possibleConstructorReturn from\"/Users/chinyi0523/Desktop/EESA NTUEE+/NTUEE_Plus_website/client/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";import _getPrototypeOf from\"/Users/chinyi0523/Desktop/EESA NTUEE+/NTUEE_Plus_website/client/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";import _inherits from\"/Users/chinyi0523/Desktop/EESA NTUEE+/NTUEE_Plus_website/client/node_modules/@babel/runtime/helpers/esm/inherits\";import React,{Component}from'react';import{Switch,Redirect,Route,Link}from\"react-router-dom\";import Button from'@material-ui/core/Button';import ReactDOM from\"react-dom\";import'./search.css';import{NavBar_in}from'../component/AppBar_in';import axios from'axios';import{handleInputChange}from\"./searchFunc/handleChange\";var map=[[\"account\",\"account\"],[\"username\",\"username\"],[\"nickname\",\"nickname\"],[\"profile\",\"profile\"],[\"publicEmail\",\"publicEmail\"],[\"office\",\"office\"],[\"homephone\",\"homephone\"],[\"cellphone\",\"cellphone\"],[\"major\",\"education.major\"],[\"double_major\",\"education.double_major\"],[\"minor\",\"education.minor\"],[\"master\",\"education.master\"],[\"doctor\",\"education.doctor\"],[\"Company\",\"Occupation.C\"],[\"Occupation\",\"Occupation.O\"],[\"Position\",\"Occupation.P\"]];var Search=/*#__PURE__*/function(_Component){_inherits(Search,_Component);function Search(){_classCallCheck(this,Search);return _possibleConstructorReturn(this,_getPrototypeOf(Search).apply(this,arguments));}_createClass(Search,[{key:\"render\",/*constructor(props) {\r\n\t\tsuper(props);\r\n\t\tvar tmpState = {hasChanged:{}};\r\n\t\tmap.forEach(arr=>{\r\n\t\t\ttmpState[arr[1]]='';\r\n\t\t});\r\n\t\tthis.state = tmpState;\r\n\t\tthis.handleInputChange = handleInputChange.bind(this);\r\n\t\tthis.handleSubmit = this.handleSubmit.bind(this);\r\n\t\tthis.creatTable = this.creatTable.bind(this);\r\n\t}*/ /*\r\n\thandleSubmit(event){\r\n\t\tevent.preventDefault();\r\n\t\tvar r = window.confirm(\"確認搜尋?\");\r\n\t\tif(r){\r\n\t\t\tvar toSend = {}\r\n\t\t\tmap.forEach(arr=>{\r\n\t\t\t\tif(this.state.hasChanged[arr[1]]){\r\n\t\t\t\t\ttoSend[arr[1]] = this.state[arr[1]]\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t\tconsole.log('toSend',toSend)\r\n\t\t\taxios.post(\"/api/searchVisual\",\r\n\t\t\t\ttoSend\r\n\t\t\t).then(res=>{\r\n\t\t\t\tif(res.data){\r\n\t\t\t\t\tif(res.data.message===true){\r\n\t\t\t\t\t\tconst receive = res.data.data;\r\n\t\t\t\t\t\tconsole.log('獲得'+receive.length+'筆資料');\r\n\t\t\t\t\t\tconsole.log(receive);\r\n\t\t\t\t\t}else{\r\n\t\t\t\t\t\talert(\"錯誤: \\n\"+res.data.description);\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t}\r\n\t}\r\n\tcomponentDidMount(){\r\n\t\tthis.creatTable();\r\n\t}\r\n\tcreatTable(){\r\n\t\tvar ST = document.getElementById(\"Search_table\");\r\n\t\tmap.forEach(arr=>{\r\n\t\t\tvar new_tr = document.createElement(\"tr\");\r\n\t\t\t\r\n\t\t\tvar new_td1 = document.createElement(\"td\");\r\n\t\t\tnew_td1.innerHTML=arr[0];\r\n\t\t\t\r\n\t\t\tvar new_td2 = document.createElement(\"td\");\r\n\t\t\tnew_td2.setAttribute(\"colSpan\",2);\r\n\t\t\tvar new_input = document.createElement(\"input\");\r\n\t\t\tnew_input.setAttribute(\"name\",arr[1]);\r\n\t\t\tnew_input.setAttribute(\"value\",this.state[arr[1]])\r\n\t\t\tnew_input.onchange = this.handleInputChange;\r\n\t\t\tnew_td2.appendChild(new_input)\r\n\t\t\t\r\n\t\t\tnew_tr.appendChild(new_td1)\r\n\t\t\tnew_tr.appendChild(new_td2)\r\n\t\t\t\r\n\t\t\tST.appendChild(new_tr)\r\n\t\t})\r\n\t}*/value:function render(){return React.createElement(\"div\",{id:\"search_container\"},React.createElement(\"form\",{id:\"search_Form\",onSubmit:this.handleSubmit},React.createElement(\"div\",{id:\"search_div\"},React.createElement(\"span\",{id:\"search_method\"},\"\\u8ACB\\u9078\\u64C7\\u67E5\\u8A62\\u65B9\\u5F0F\\uFF1A\"),React.createElement(\"select\",{id:\"search_cstype\"},React.createElement(\"option\",{value:\"1\"},\"account\"),React.createElement(\"option\",{value:\"2\"},\"username\"),React.createElement(\"option\",{value:\"3\"},\"nickname\"),React.createElement(\"option\",{value:\"4\"},\"profile\"),React.createElement(\"option\",{value:\"5\"},\"publicEmail\"),React.createElement(\"option\",{value:\"6\"},\"office\"),React.createElement(\"option\",{value:\"7\"},\"homephone\"),React.createElement(\"option\",{value:\"8\"},\"cellphone\"),React.createElement(\"option\",{value:\"9\"},\"major\"),React.createElement(\"option\",{value:\"10\"},\"double_major\"),React.createElement(\"option\",{value:\"11\"},\"minor\"),React.createElement(\"option\",{value:\"12\"},\"master\"),React.createElement(\"option\",{value:\"13\"},\"doctor\"),React.createElement(\"option\",{value:\"14\"},\"Company\")),React.createElement(\"span\",{id:\"search_method\"},\"\\u8F38\\u5165\\u95DC\\u9375\\u5B57\\uFF1A\"),React.createElement(\"input\",null),React.createElement(\"input\",{type:\"submit\",value:\"Search\"}))));}}]);return Search;}(Component);export default Search;","map":{"version":3,"sources":["/Users/chinyi0523/Desktop/EESA NTUEE+/NTUEE_Plus_website/client/src/in/Search.js"],"names":["React","Component","Switch","Redirect","Route","Link","Button","ReactDOM","NavBar_in","axios","handleInputChange","map","Search","handleSubmit"],"mappings":"wuBAAA,MAAOA,CAAAA,KAAP,EAAgBC,SAAhB,KAAiC,OAAjC,CACA,OAAQC,MAAR,CAAeC,QAAf,CAAwBC,KAAxB,CAA8BC,IAA9B,KAAyC,kBAAzC,CACA,MAAOC,CAAAA,MAAP,KAAmB,0BAAnB,CACA,MAAOC,CAAAA,QAAP,KAAqB,WAArB,CACA,MAAO,cAAP,CACA,OAAQC,SAAR,KAAwB,wBAAxB,CACA,MAAOC,CAAAA,KAAP,KAAkB,OAAlB,CAEA,OAAQC,iBAAR,KAAgC,2BAAhC,CAEA,GAAIC,CAAAA,GAAG,CAAG,CACT,CAAC,SAAD,CAAW,SAAX,CADS,CAET,CAAC,UAAD,CAAY,UAAZ,CAFS,CAGT,CAAC,UAAD,CAAY,UAAZ,CAHS,CAIT,CAAC,SAAD,CAAW,SAAX,CAJS,CAKT,CAAC,aAAD,CAAe,aAAf,CALS,CAMT,CAAC,QAAD,CAAU,QAAV,CANS,CAOT,CAAC,WAAD,CAAa,WAAb,CAPS,CAQT,CAAC,WAAD,CAAa,WAAb,CARS,CAST,CAAC,OAAD,CAAS,iBAAT,CATS,CAUT,CAAC,cAAD,CAAgB,wBAAhB,CAVS,CAWT,CAAC,OAAD,CAAS,iBAAT,CAXS,CAYT,CAAC,QAAD,CAAU,kBAAV,CAZS,CAaT,CAAC,QAAD,CAAU,kBAAV,CAbS,CAcT,CAAC,SAAD,CAAW,cAAX,CAdS,CAeT,CAAC,YAAD,CAAc,cAAd,CAfS,CAgBT,CAAC,UAAD,CAAY,cAAZ,CAhBS,CAAV,C,GAmBMC,CAAAA,M,yOACF;;;;;;;;;;KAWH;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;2BAoDQ,CACD,MACA,4BAAK,EAAE,CAAG,kBAAV,EACL,4BAAM,EAAE,CAAC,aAAT,CAAuB,QAAQ,CAAE,KAAKC,YAAtC,EACC,2BAAK,EAAE,CAAG,YAAV,EACC,4BAAM,EAAE,CAAG,eAAX,qDADD,CAEC,8BAAQ,EAAE,CAAC,eAAX,EACC,8BAAQ,KAAK,CAAC,GAAd,YADD,CAEC,8BAAQ,KAAK,CAAC,GAAd,aAFD,CAGC,8BAAQ,KAAK,CAAC,GAAd,aAHD,CAIC,8BAAQ,KAAK,CAAC,GAAd,YAJD,CAKC,8BAAQ,KAAK,CAAC,GAAd,gBALD,CAMC,8BAAQ,KAAK,CAAC,GAAd,WAND,CAOC,8BAAQ,KAAK,CAAC,GAAd,cAPD,CAQC,8BAAQ,KAAK,CAAC,GAAd,cARD,CASC,8BAAQ,KAAK,CAAC,GAAd,UATD,CAUC,8BAAQ,KAAK,CAAC,IAAd,iBAVD,CAWC,8BAAQ,KAAK,CAAC,IAAd,UAXD,CAYC,8BAAQ,KAAK,CAAC,IAAd,WAZD,CAaC,8BAAQ,KAAK,CAAC,IAAd,WAbD,CAcC,8BAAQ,KAAK,CAAC,IAAd,YAdD,CAFD,CAkBC,4BAAM,EAAE,CAAG,eAAX,yCAlBD,CAmBC,iCAnBD,CAoBC,6BAAO,IAAI,CAAC,QAAZ,CAAqB,KAAK,CAAC,QAA3B,EApBD,CADD,CADK,CADA,CA4BH,C,oBA7FgBZ,S,EAgGrB,cAAeW,CAAAA,MAAf","sourcesContent":["import React, { Component } from 'react';\r\nimport {Switch,Redirect,Route,Link} from \"react-router-dom\"\r\nimport Button from '@material-ui/core/Button';\r\nimport ReactDOM from \"react-dom\";\r\nimport './search.css';\r\nimport {NavBar_in} from '../component/AppBar_in';\r\nimport axios from 'axios';\r\n\r\nimport {handleInputChange} from \"./searchFunc/handleChange\";\r\n\r\nvar map = [\r\n\t[\"account\",\"account\"],\r\n\t[\"username\",\"username\"],\r\n\t[\"nickname\",\"nickname\"],\r\n\t[\"profile\",\"profile\"],\r\n\t[\"publicEmail\",\"publicEmail\"],\r\n\t[\"office\",\"office\"],\r\n\t[\"homephone\",\"homephone\"],\r\n\t[\"cellphone\",\"cellphone\"],\r\n\t[\"major\",\"education.major\"],\r\n\t[\"double_major\",\"education.double_major\"],\r\n\t[\"minor\",\"education.minor\"],\r\n\t[\"master\",\"education.master\"],\r\n\t[\"doctor\",\"education.doctor\"],\r\n\t[\"Company\",\"Occupation.C\"],\r\n\t[\"Occupation\",\"Occupation.O\"],\r\n\t[\"Position\",\"Occupation.P\"]\r\n];\r\n\r\nclass Search extends Component{\r\n    /*constructor(props) {\r\n\t\tsuper(props);\r\n\t\tvar tmpState = {hasChanged:{}};\r\n\t\tmap.forEach(arr=>{\r\n\t\t\ttmpState[arr[1]]='';\r\n\t\t});\r\n\t\tthis.state = tmpState;\r\n\t\tthis.handleInputChange = handleInputChange.bind(this);\r\n\t\tthis.handleSubmit = this.handleSubmit.bind(this);\r\n\t\tthis.creatTable = this.creatTable.bind(this);\r\n\t}*/\r\n\t/*\r\n\thandleSubmit(event){\r\n\t\tevent.preventDefault();\r\n\t\tvar r = window.confirm(\"確認搜尋?\");\r\n\t\tif(r){\r\n\t\t\tvar toSend = {}\r\n\t\t\tmap.forEach(arr=>{\r\n\t\t\t\tif(this.state.hasChanged[arr[1]]){\r\n\t\t\t\t\ttoSend[arr[1]] = this.state[arr[1]]\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t\tconsole.log('toSend',toSend)\r\n\t\t\taxios.post(\"/api/searchVisual\",\r\n\t\t\t\ttoSend\r\n\t\t\t).then(res=>{\r\n\t\t\t\tif(res.data){\r\n\t\t\t\t\tif(res.data.message===true){\r\n\t\t\t\t\t\tconst receive = res.data.data;\r\n\t\t\t\t\t\tconsole.log('獲得'+receive.length+'筆資料');\r\n\t\t\t\t\t\tconsole.log(receive);\r\n\t\t\t\t\t}else{\r\n\t\t\t\t\t\talert(\"錯誤: \\n\"+res.data.description);\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t}\r\n\t}\r\n\tcomponentDidMount(){\r\n\t\tthis.creatTable();\r\n\t}\r\n\tcreatTable(){\r\n\t\tvar ST = document.getElementById(\"Search_table\");\r\n\t\tmap.forEach(arr=>{\r\n\t\t\tvar new_tr = document.createElement(\"tr\");\r\n\t\t\t\r\n\t\t\tvar new_td1 = document.createElement(\"td\");\r\n\t\t\tnew_td1.innerHTML=arr[0];\r\n\t\t\t\r\n\t\t\tvar new_td2 = document.createElement(\"td\");\r\n\t\t\tnew_td2.setAttribute(\"colSpan\",2);\r\n\t\t\tvar new_input = document.createElement(\"input\");\r\n\t\t\tnew_input.setAttribute(\"name\",arr[1]);\r\n\t\t\tnew_input.setAttribute(\"value\",this.state[arr[1]])\r\n\t\t\tnew_input.onchange = this.handleInputChange;\r\n\t\t\tnew_td2.appendChild(new_input)\r\n\t\t\t\r\n\t\t\tnew_tr.appendChild(new_td1)\r\n\t\t\tnew_tr.appendChild(new_td2)\r\n\t\t\t\r\n\t\t\tST.appendChild(new_tr)\r\n\t\t})\r\n\t}*/\r\n\trender(){\r\n        return (\r\n\t       <div id = \"search_container\">\r\n\t\t\t<form id=\"search_Form\" onSubmit={this.handleSubmit}>\r\n\t\t\t\t<div id = \"search_div\">\r\n\t\t\t\t\t<span id = \"search_method\">請選擇查詢方式：</span>\r\n\t\t\t\t\t<select id=\"search_cstype\">\r\n\t\t\t\t\t\t<option value=\"1\">account</option>\r\n\t\t\t\t\t\t<option value=\"2\">username</option>\r\n\t\t\t\t\t\t<option value=\"3\">nickname</option>\r\n\t\t\t\t\t\t<option value=\"4\">profile</option>\r\n\t\t\t\t\t\t<option value=\"5\">publicEmail</option>\r\n\t\t\t\t\t\t<option value=\"6\">office</option>\r\n\t\t\t\t\t\t<option value=\"7\">homephone</option>\r\n\t\t\t\t\t\t<option value=\"8\">cellphone</option>\r\n\t\t\t\t\t\t<option value=\"9\">major</option>\r\n\t\t\t\t\t\t<option value=\"10\">double_major</option>\r\n\t\t\t\t\t\t<option value=\"11\">minor</option>\r\n\t\t\t\t\t\t<option value=\"12\">master</option>\r\n\t\t\t\t\t\t<option value=\"13\">doctor</option>\r\n\t\t\t\t\t\t<option value=\"14\">Company</option>\r\n\t\t\t\t\t</select>\r\n\t\t\t\t\t<span id = \"search_method\">輸入關鍵字：</span> \r\n\t\t\t\t\t<input/>\r\n\t\t\t\t\t<input type=\"submit\" value=\"Search\" />\r\n\t\t\t\t</div>\r\n\t\t\t</form>\r\n\t\t</div>\r\n        )\r\n    }\r\n}\r\n\r\nexport default Search;\r\n"]},"metadata":{},"sourceType":"module"}