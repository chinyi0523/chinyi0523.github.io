{"ast":null,"code":"import _defineProperty from\"/Users/chinyi0523/Desktop/EESA NTUEE+/NTUEE_Plus_website/client/node_modules/@babel/runtime/helpers/esm/defineProperty\";import _classCallCheck from\"/Users/chinyi0523/Desktop/EESA NTUEE+/NTUEE_Plus_website/client/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/chinyi0523/Desktop/EESA NTUEE+/NTUEE_Plus_website/client/node_modules/@babel/runtime/helpers/esm/createClass\";import _possibleConstructorReturn from\"/Users/chinyi0523/Desktop/EESA NTUEE+/NTUEE_Plus_website/client/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";import _getPrototypeOf from\"/Users/chinyi0523/Desktop/EESA NTUEE+/NTUEE_Plus_website/client/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";import _assertThisInitialized from\"/Users/chinyi0523/Desktop/EESA NTUEE+/NTUEE_Plus_website/client/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";import _inherits from\"/Users/chinyi0523/Desktop/EESA NTUEE+/NTUEE_Plus_website/client/node_modules/@babel/runtime/helpers/esm/inherits\";import React,{Component}from'react';import'./Login.css';import FacebookLogin from'react-facebook-login';import ReactDOM from'react-dom';import Footer from\"../component/Footer\";import{Link,Redirect}from'react-router-dom';import axios from\"axios\";import{NavBar}from'../component/AppBar';var responseFacebook=function responseFacebook(response){console.log(response);if(response==undefined){alert('Please Login Your Facebook!');return;}alert(\"Your Facebook name: \"+response.name+\", ID: \"+response.userID);axios.post(\"/api/loginFB\",{facebookID:response.userID}).then(function(res){console.log(res.data);if(res.data){if(res.data.message===true){alert('登入成功，歡迎：'+res.data.data.username);}else{alert('Error：'+res.data);}}});};var Login=/*#__PURE__*/function(_Component){_inherits(Login,_Component);function Login(props){var _this;_classCallCheck(this,Login);_this=_possibleConstructorReturn(this,_getPrototypeOf(Login).call(this,props));_this.state={Login_username_input:'',Login_password_input:'',isLogin:null};_this.handleInputChange=_this.handleInputChange.bind(_assertThisInitialized(_this));_this.handleSubmit=_this.handleSubmit.bind(_assertThisInitialized(_this));return _this;}_createClass(Login,[{key:\"handleInputChange\",value:function handleInputChange(event){var target=event.target;var value=target.value;var name=target.id;this.setState(_defineProperty({},name,value));}},{key:\"handleSubmit\",value:function handleSubmit(event){var _this2=this;event.preventDefault();console.log(this.state);if(false){alert(\"一些判斷式\");}else{var r=window.confirm(\"確認登入?\");if(r){//window.location = \"/Home_in\";\naxios.post(\"/api/login\",{account:this.state.Login_username_input,password:this.state.Login_password_input}).then(function(res){console.log(res.data);if(res.data){if(res.data.message===true){alert('登入成功，歡迎：'+res.data.data.username);//window.location = \"/\";\n_this2.setState({isLogin:true});}else{alert(\"錯誤：\\n\"+res.data.description);}}});}}}},{key:\"render\",value:function render(){if(this.state.isLogin){return React.createElement(Redirect,{to:\"/in\"});}return React.createElement(\"div\",{id:\"Login_container\"},React.createElement(NavBar,null),React.createElement(\"form\",{onSubmit:this.handleSubmit},React.createElement(\"div\",{id:\"Login_input\"},React.createElement(\"div\",{id:\"Login_username\"},React.createElement(\"p\",{id:\"Login_username_tag\"},\"Username:\"),React.createElement(\"input\",{id:\"Login_username_input\",className:\"Login_input\",placeholder:\"username\",autoFocus:true,value:this.state.value,onChange:this.handleInputChange})),React.createElement(\"div\",{id:\"Login_password1\"},React.createElement(\"p\",{id:\"Login_password_tag\"},\"Password:\"),React.createElement(\"input\",{id:\"Login_password_input\",className:\"Login_input\",placeholder:\"password\",type:\"password\",value:this.state.value,onChange:this.handleInputChange})),React.createElement(\"div\",{id:\"Login_links\"},React.createElement(Link,{id:\"Login_create\",to:\"/Register\"},\"Create a new account\"),React.createElement(Link,{id:\"Login_forgot\",to:\"/Forget\"},\"Forgot your password?\"))),React.createElement(\"input\",{id:\"Login_submit\",type:\"submit\",value:\"LOGIN\"}),React.createElement(\"div\",{id:\"Login_hr\"},\"\\xA0\\xA0\\xA0or login with...\"),React.createElement(FacebookLogin,{appId:\"176796437077702\",autoLoad:false,fields:\"name,email,picture\",callback:responseFacebook,cssClass:\"btnFacebook\",icon:\"fa-facebook\",textButton:\"\\xA0\\xA0Sign In with Facebook\"})),React.createElement(\"footer\",{id:\"index_footer\"},React.createElement(Footer,null)));}}]);return Login;}(Component);export default Login;","map":{"version":3,"sources":["/Users/chinyi0523/Desktop/EESA NTUEE+/NTUEE_Plus_website/client/src/out/Login.js"],"names":["React","Component","FacebookLogin","ReactDOM","Footer","Link","Redirect","axios","NavBar","responseFacebook","response","console","log","undefined","alert","name","userID","post","facebookID","then","res","data","message","username","Login","props","state","Login_username_input","Login_password_input","isLogin","handleInputChange","bind","handleSubmit","event","target","value","id","setState","preventDefault","r","window","confirm","account","password","description"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport './Login.css';\nimport FacebookLogin from 'react-facebook-login';\nimport ReactDOM from 'react-dom';\nimport Footer from \"../component/Footer\";\nimport { Link,Redirect } from 'react-router-dom';\nimport axios from \"axios\";\nimport { NavBar } from '../component/AppBar';\n\nconst responseFacebook = (response) => {\n\tconsole.log(response);\n\tif (response == undefined) {\n\t\talert ('Please Login Your Facebook!')\n\t\treturn\n\t}\n\t\n\talert (\"Your Facebook name: \" + response.name + \", ID: \" + response.userID);\n\taxios.post(\"/api/loginFB\", {facebookID: response.userID}).then(res => {\n\t\tconsole.log(res.data);\n\t\tif(res.data){\n\t\t\tif(res.data.message===true){\n\t\t\t\talert('登入成功，歡迎：'+res.data.data.username);\n\t\t\t}else{\n\t\t\t\talert('Error：'+ res.data);\n\t\t\t}\n\t\t}\n\t})\n}\n\nclass Login extends Component{\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tthis.state = {\n\t\t  Login_username_input: '',\n\t\t  Login_password_input: '',\n\t\t  isLogin: null\n\t\t};\n\n\t\tthis.handleInputChange = this.handleInputChange.bind(this);\n\t\tthis.handleSubmit = this.handleSubmit.bind(this);\n\t}\n\t\n\thandleInputChange(event) {\n\t\tconst target = event.target;\n\t\tconst value = target.value;\n\t\tconst name = target.id;\n\t\t\n\t\tthis.setState({\n\t\t  [name]: value\n\t\t});\n\t}\n\t\n\thandleSubmit(event) {\n\t\tevent.preventDefault();\n\t\tconsole.log(this.state);\n\t\tif(false){\n\t\t\talert(\"一些判斷式\");\n\t\t}else{\n\t\t\tvar r=window.confirm(\"確認登入?\");\n\t\t\tif(r){\n\t\t\t\t//window.location = \"/Home_in\";\n\t\t\t\t\n\t\t\t\taxios.post(\"/api/login\", \n\t\t\t\t\t{account:this.state.Login_username_input,\n\t\t\t\t\tpassword:this.state.Login_password_input}\n\t\t\t\t).then(res => {\n\t\t\t\t\tconsole.log(res.data);\n\t\t\t\t\t\tif(res.data){\n\t\t\t\t\t\t\tif(res.data.message===true){\n\t\t\t\t\t\t\t\talert('登入成功，歡迎：'+res.data.data.username);\n\t\t\t\t\t\t\t\t//window.location = \"/\";\n\t\t\t\t\t\t\t\tthis.setState({\n\t\t\t\t\t\t\t\t\tisLogin:true\n\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t}else{\n\t\t\t\t\t\t\t\talert(\"錯誤：\\n\"+res.data.description);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t})\n\t\t\t}\n\t\t}\n\t}\n\t\n    render(){\n\t\tif(this.state.isLogin){\n\t\t\treturn <Redirect to=\"/in\" />\n\t\t}\n\t\t\n        return (\n            <div id=\"Login_container\">\n\t\t\t<NavBar/> \n\t\t\t<form onSubmit={this.handleSubmit}>\n                <div id=\"Login_input\">\n                        <div id=\"Login_username\">\n                            <p id=\"Login_username_tag\">Username:</p>\n                            <input id=\"Login_username_input\" className=\"Login_input\" placeholder=\"username\" autoFocus\n\t\t\t\t\t\t\t\tvalue={this.state.value} onChange={this.handleInputChange}\n\t\t\t\t\t\t\t></input>\n                        </div>\n                        <div id=\"Login_password1\">\n                            <p id=\"Login_password_tag\">Password:</p>\n                            <input id=\"Login_password_input\" className=\"Login_input\" placeholder=\"password\" type=\"password\"\n\t\t\t\t\t\t\t\tvalue={this.state.value} onChange={this.handleInputChange}\n\t\t\t\t\t\t\t></input>\n                        </div>\n\t\t\t\t\t<div id=\"Login_links\">\n\t\t\t\t\t\t<Link id = \"Login_create\" to=\"/Register\">Create a new account</Link>\n\t\t\t\t\t\t<Link id = \"Login_forgot\" to=\"/Forget\">Forgot your password?</Link>\n\t\t\t\t\t</div>\n                </div>\n\t\t\t\t\n                <input id=\"Login_submit\" type=\"submit\" value=\"LOGIN\"/>\n\t\t\t\t<div id=\"Login_hr\">&nbsp;&nbsp;&nbsp;or login with...</div>\n\t\t\t\t<FacebookLogin\n\t\t\t\t\tappId=\"176796437077702\"\n\t\t\t\t\tautoLoad={false}\n\t\t\t\t\tfields=\"name,email,picture\"\n\t\t\t\t\tcallback={responseFacebook}\n\t\t\t\t\tcssClass=\"btnFacebook\"\n\t\t\t\t\ticon=\"fa-facebook\"\n\t\t\t\t\ttextButton = \"&nbsp;&nbsp;Sign In with Facebook\" \n\t\t\t\t/>\n            </form>\n\t\t\t\n                {/*<div id=\"Login_footer\">\n                    <img id=\"Login_logo\" src={eesa_icon} alt=\"logo\" ></img>\n                    <p id=\"Login_footer_text\">聯絡信箱 : ntueesa@gmail.com</p>\n                    <p id=\"Login_footer_text_2\">台灣大學電機工程學系 系學會</p>\n\t\t</div>*/}\n\t\t<footer id=\"index_footer\"><Footer/></footer>\n            </div>\n        )\n    }\n}\n\nexport default Login;"]},"metadata":{},"sourceType":"module"}