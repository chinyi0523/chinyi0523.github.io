{"ast":null,"code":"import _assertThisInitialized from\"/Users/chinyi0523/Desktop/EESA NTUEE+/NTUEE_Plus_website/client/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";import _objectWithoutProperties from\"/Users/chinyi0523/Desktop/EESA NTUEE+/NTUEE_Plus_website/client/node_modules/@babel/runtime/helpers/esm/objectWithoutProperties\";import _classCallCheck from\"/Users/chinyi0523/Desktop/EESA NTUEE+/NTUEE_Plus_website/client/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/chinyi0523/Desktop/EESA NTUEE+/NTUEE_Plus_website/client/node_modules/@babel/runtime/helpers/esm/createClass\";import _possibleConstructorReturn from\"/Users/chinyi0523/Desktop/EESA NTUEE+/NTUEE_Plus_website/client/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";import _getPrototypeOf from\"/Users/chinyi0523/Desktop/EESA NTUEE+/NTUEE_Plus_website/client/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";import _inherits from\"/Users/chinyi0523/Desktop/EESA NTUEE+/NTUEE_Plus_website/client/node_modules/@babel/runtime/helpers/esm/inherits\";import React,{Component}from'react';import{Route,Redirect}from'react-router-dom';import{Home_page,Login_page,Support_page,About_page,Contact_page,Register_page,Forget_page,Team_page,History_page}from'./out/pages';import{Home_in_page,Column_page,Recruit_study_page,Main_in_page}from'./in/pages_in';//import PrivateRoute from './component/PrivateRoute';\nimport register_app from'./out/register_in/register_app';import Login from'./out/Login';import{isLoginChecker}from'./in/isLogin';import Footer from'./component/Footer/Footer';// import NavBar from './component/AppBar'\nimport'./App.css';import{get}from'mongoose';var PrivateRoute=/*#__PURE__*/function(_Component){_inherits(PrivateRoute,_Component);function PrivateRoute(props){var _this;_classCallCheck(this,PrivateRoute);_this=_possibleConstructorReturn(this,_getPrototypeOf(PrivateRoute).call(this,props));_this.state={isLogin:false// 是否通過權限檢核\n};return _this;}/*checkAuth = async() => {\n          \n      //console.log(\"isLogin: \"+this.state.isLogin)\n      if(!this.state.isLogin){\n        //setTimeout(alert(\"please wait\"),1000)\n        let isLogin = isLoginChecker()\n        this.setState({\n          isLogin:isLogin\n        })\n        \n      }\n    }\n    componentWillMount(){\n     this.checkAuth()\n    }*/_createClass(PrivateRoute,[{key:\"UNSAFE_componentWillReceiveProps\",value:function UNSAFE_componentWillReceiveProps(){this.setState({isLogin:this.props.loginstatus});}},{key:\"render\",value:function render(){var _this$props=this.props,Component=_this$props.component,rest=_objectWithoutProperties(_this$props,[\"component\"]);var isLogin=this.props.loginstatus;//const { isLogin } = this.state\nconsole.log(\"call PrivateRoute\");console.log(isLogin);return React.createElement(Route,Object.assign({},rest,{render:function render(props){return isLogin?React.createElement(Component,props):React.createElement(Redirect,{to:\"/Login\"});}}));}}]);return PrivateRoute;}(Component);var App=/*#__PURE__*/function(_Component2){_inherits(App,_Component2);function App(props){var _this2;_classCallCheck(this,App);_this2=_possibleConstructorReturn(this,_getPrototypeOf(App).call(this,props));_this2.handleisLoginChange=function(isLogin){console.log(\"call handleisLoginChange\");console.log(isLogin);_this2.setState({isLogin:isLogin});console.log(_this2.state.isLogin);};_this2.state={isLogin:false};_this2.handleisLoginChange=_this2.handleisLoginChange.bind(_assertThisInitialized(_this2));return _this2;}_createClass(App,[{key:\"render\",value:function render(){var _this3=this;return React.createElement(\"div\",{className:\"container\"},React.createElement(Route,{path:\"/\",exact:true,component:Home_page}),React.createElement(Route,{path:\"/Login\",render:function render(props){return React.createElement(Login,Object.assign({},props,{loginFunc:_this3.handleisLoginChange,loginstatus:_this3.state.isLogin}));}}),React.createElement(Route,{path:\"/Support\",component:Support_page}),React.createElement(Route,{path:\"/About\",component:About_page}),React.createElement(Route,{path:\"/Contact\",component:Contact_page}),React.createElement(Route,{path:\"/Register\",exact:true,component:Register_page}),React.createElement(Route,{path:\"/Register/pages\",component:register_app}),React.createElement(Route,{path:\"/Forget\",component:Forget_page}),React.createElement(PrivateRoute,{path:\"/in\",component:Main_in_page,loginstatus:this.state.isLogin}),React.createElement(Route,{path:\"/Team\",component:Team_page}),React.createElement(Route,{path:\"/History\",component:History_page}));}}]);return App;}(Component);export default App;","map":{"version":3,"sources":["/Users/chinyi0523/Desktop/EESA NTUEE+/NTUEE_Plus_website/client/src/App.js"],"names":["React","Component","Route","Redirect","Home_page","Login_page","Support_page","About_page","Contact_page","Register_page","Forget_page","Team_page","History_page","Home_in_page","Column_page","Recruit_study_page","Main_in_page","register_app","Login","isLoginChecker","Footer","get","PrivateRoute","props","state","isLogin","setState","loginstatus","component","rest","console","log","App","handleisLoginChange","bind"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport { Route, Redirect } from 'react-router-dom';\nimport { Home_page,Login_page, Support_page,About_page ,Contact_page,Register_page,Forget_page,Team_page,History_page} from './out/pages';\nimport { Home_in_page, Column_page,Recruit_study_page, Main_in_page } from './in/pages_in'; \n//import PrivateRoute from './component/PrivateRoute';\nimport register_app from './out/register_in/register_app';\nimport Login from './out/Login';\nimport {isLoginChecker} from './in/isLogin';\nimport Footer from './component/Footer/Footer'\n// import NavBar from './component/AppBar'\nimport './App.css'\nimport { get } from 'mongoose';\n\nclass PrivateRoute extends Component {\n    constructor (props) {\n      super(props)\n  \n      this.state = {\n        isLogin: false // 是否通過權限檢核\n      }\n  \n    }\n    /*checkAuth = async() => {\n          \n      //console.log(\"isLogin: \"+this.state.isLogin)\n      if(!this.state.isLogin){\n        //setTimeout(alert(\"please wait\"),1000)\n        let isLogin = isLoginChecker()\n        this.setState({\n          isLogin:isLogin\n        })\n        \n      }\n    }\n    componentWillMount(){\n     this.checkAuth()\n    }*/\n    UNSAFE_componentWillReceiveProps(){\n      this.setState({\n        isLogin:this.props.loginstatus\n      })\n     }\n    render () {\n      const { component: Component, ...rest } = this.props\n      let isLogin = this.props.loginstatus;\n      //const { isLogin } = this.state\n      console.log(\"call PrivateRoute\")\n      console.log(isLogin)\n      return (\n         <Route {...rest} render={props => (\n              isLogin\n                ? <Component {...props} />\n                : <Redirect to='/Login' />\n            )} />\n      )\n    }\n  \n  }\n\nclass App extends Component {\n  constructor(props){\n    super(props);\n    this.state = {\n      isLogin:false,\n    }\n    this.handleisLoginChange = this.handleisLoginChange.bind(this);\n  }\n  handleisLoginChange = (isLogin) =>{\n    console.log(\"call handleisLoginChange\")\n    console.log(isLogin)\n    this.setState({\n      isLogin:isLogin\n    })\n    console.log(this.state.isLogin)\n  }\n  render() {\n    return (\n      <div className=\"container\">\n        \n\t\t{/* The corresponding component will show here if the current URL matches the path */}\n        <Route path=\"/\" exact component={Home_page} />\n        {/* <Route path=\"/Login\" component={Login_page} loginFunc={this.handleisLoginChange} /> */}\n        <Route path=\"/Login\" render = {(props)=><Login {...props} loginFunc={this.handleisLoginChange} loginstatus={this.state.isLogin}/>}/>\n        <Route path=\"/Support\" component={Support_page} />\n        <Route path=\"/About\" component={About_page} />\n        <Route path=\"/Contact\" component={Contact_page} />\n        <Route path=\"/Register\" exact component={Register_page} />\n        <Route path=\"/Register/pages\" component = {register_app}/>\n        <Route path=\"/Forget\" component={Forget_page} />\n        {/* <Route path=\"/in\" component={Main_in_page} /> */}\n        <PrivateRoute path=\"/in\" component={Main_in_page} loginstatus={this.state.isLogin}/>\n        <Route path=\"/Team\" component={Team_page}/>\n        <Route path=\"/History\" component={History_page}/>\n      </div>\n    );\n  }\n}\n\nexport default App;"]},"metadata":{},"sourceType":"module"}